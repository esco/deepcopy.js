/*!
 * @license deepcopy.js Copyright(c) 2013 sasa+1
 * https://github.com/sasaplus1/deepcopy.js
 * Released under the MIT license.
 */
!function(t,e){"use strict";"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e():t.deepcopy=e()}(this,function(){"use strict";function t(f,i,u,c){var p,y,s,a,l,b,j,g,x,A,h;if(null===f||"object"!=typeof f)return f;if(e.isDate(f))return new Date(+f);if(e.isRegExp(f))return p=String(f),y=p.lastIndexOf("/"),new RegExp(p.slice(1,y),p.slice(y+1));if(r(f))return s=new Buffer(f.length),f.copy(s),s;for(a=n(f),l=0,b=a.length;b>l;++l)j=a[l],g=f[j],null!==g&&"object"==typeof g&&(x=o(u,g),-1===x?(A=e.isArray(g)?[]:{},u.push(g),c.push(A)):h=c[x]),i[j]=h||t(g,A,u,c);return i}function deepcopy(r){var n=e.isArray(r)?[]:{},o=[r],f=[n];return t(r,n,o,f)}var e,r,n,o;return e="object"==typeof exports?require("util"):function(){function t(t){return"object"==typeof t&&"[object Array]"===Object.prototype.toString.call(t)}function e(t){return"object"==typeof t&&"[object Date]"===Object.prototype.toString.call(t)}function r(t){return"object"==typeof t&&"[object RegExp]"===Object.prototype.toString.call(t)}return{isArray:"function"==typeof Array.isArray?function(t){return Array.isArray(t)}:t,isDate:e,isRegExp:r}}(),r="object"==typeof exports&&"function"==typeof Buffer?function(t){return Buffer.isBuffer(t)}:function(){return!1},n="function"==typeof Object.keys?function(t){return Object.keys(t)}:function(t){var e,r=[];if(null===t||"object"!=typeof t)throw new TypeError("obj is not an Object");for(e in t)t.hasOwnProperty(e)&&r.push(e);return r},o="function"==typeof Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,r){var n,o;if(!e.isArray(t))throw new TypeError("array is not an Array");for(n=0,o=t.length;o>n;++n)if(t[n]===r)return n;return-1},deepcopy});